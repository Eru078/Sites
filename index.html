<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SOICHIRO KAMUI - CRT Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Font + Style -->
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>SOICHIRO KAMUI</h1>
  <h2>FULL DRIVE GAME WALKTHROUGH</h2>

  <p class="intro">
    Welcome to my walkthrough for this piece of shit game.<br>
    This is all you’ve got, so don’t screw it up.
  </p>

  <nav class="nav">
    <a href="#">Walkthrough</a>
    <a href="#">Tips</a>
    <a href="#">Lore</a>
    <a href="#">Cheats</a>
  </nav>

  <h3>MAIN WALKTHROUGH</h3>
  <p>Good luck, moron.</p>

  <h4>News</h4>
  <p>New guide pages added, not that you deserve it.</p>

  <!-- Progress Bar -->
<div id="progress-bar"></div>

<!-- Blog Post Section -->
<section id="posts">
  <h4>Latest Posts</h4>
  <ul id="post-list"></ul>
</section>

<!-- Scroll to Top Button -->
<button id="scrollToTopBtn" title="Go to top">⬆</button>

<script>
  // Load posts
  fetch('posts/posts.json')
    .then(res => res.json())
    .then(posts => {
      const list = document.getElementById('post-list');
      posts.forEach(post => {
        const li = document.createElement('li');
        const link = document.createElement('a');
        link.href = `post.html?file=${post.file}`;
        link.textContent = `${post.title} (${post.date})`;
        li.appendChild(link);
        list.appendChild(li);
      });
    });

  // Scroll progress bar
  window.addEventListener('scroll', () => {
    const winScroll = document.documentElement.scrollTop || document.body.scrollTop;
    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    const scrolled = (winScroll / height) * 100;
    document.getElementById("progress-bar").style.width = scrolled + "%";
  });

  // Scroll-to-top button
  const topBtn = document.getElementById("scrollToTopBtn");
  window.onscroll = () => {
    topBtn.style.display = (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300)
      ? "block" : "none";
  };
  topBtn.onclick = () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };
</script>
</body>
</html>